{
	"info": {
		"_postman_id": "2c2ec51b-7cb2-4994-84e5-4cec27c98b51",
		"name": "MyMechanicShop",
		"description": "### Welcome to Postman! This is your first collection. \n\nCollections are your starting point for building and testing APIs. You can use this one to:\n\n‚Ä¢ Group related requests\n‚Ä¢ Test your API in real-world scenarios\n‚Ä¢ Document and share your requests\n\nUpdate the name and overview whenever you‚Äôre ready to make it yours.\n\n[Learn more about Postman Collections.](https://learning.postman.com/docs/collections/collections-overview/)",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "49961491",
		"_collection_link": "https://bishoptoukon-8536912.postman.co/workspace/JH's-Workspace~e6f6c9cf-5129-4ee3-8f6a-048200832fa7/collection/49961491-2c2ec51b-7cb2-4994-84e5-4cec27c98b51?action=share&source=collection_link&creator=49961491"
	},
	"item": [
		{
			"name": "Customers",
			"item": [
				{
					"name": "Update Customers",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Test for successful response",
									"pm.test(\"Successful PUT request\", function () {",
									"    pm.expect(pm.response.code).to.be.oneOf([200, 201, 204]);",
									"});",
									"",
									"// Response time validation",
									"pm.test(\"Response time is acceptable\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(5000);",
									"});",
									"",
									"// Content-Type header validation",
									"pm.test(\"Content-Type header is present\", function () {",
									"    pm.response.to.have.header(\"Content-Type\");",
									"});",
									"",
									"// Enhanced error handling and diagnostics",
									"if (pm.response.code >= 400) {",
									"    console.log(\"‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó\");",
									"    console.log(\"‚ïë              ERROR DIAGNOSTICS REPORT                      ‚ïë\");",
									"    console.log(\"‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù\");",
									"    ",
									"    // Response details",
									"    console.log(\"\\nüìä RESPONSE INFORMATION:\");",
									"    console.log(\"   Status Code:\", pm.response.code);",
									"    console.log(\"   Status Text:\", pm.response.status);",
									"    console.log(\"   Response Time:\", pm.response.responseTime + \"ms\");",
									"    console.log(\"   Response Size:\", pm.response.responseSize + \" bytes\");",
									"    ",
									"    // Request details for debugging",
									"    console.log(\"\\nüì§ REQUEST DETAILS:\");",
									"    console.log(\"   Method:\", pm.request.method);",
									"    console.log(\"   URL:\", pm.request.url.toString());",
									"    ",
									"    // URL Analysis for 404 errors",
									"    if (pm.response.code === 404) {",
									"        console.log(\"\\nüîç 404 ERROR ANALYSIS:\");",
									"        console.log(\"   The server cannot find the requested resource.\");",
									"        console.log(\"\\n   Common causes:\");",
									"        console.log(\"   ‚Ä¢ Incorrect URL path or endpoint\");",
									"        console.log(\"   ‚Ä¢ Resource ID does not exist in the database\");",
									"        console.log(\"   ‚Ä¢ Typo in the URL\");",
									"        console.log(\"   ‚Ä¢ Server route not properly configured\");",
									"        console.log(\"   ‚Ä¢ Resource may have been deleted\");",
									"        ",
									"        // Parse URL components",
									"        const url = pm.request.url;",
									"        console.log(\"\\n   URL Components:\");",
									"        console.log(\"   ‚Ä¢ Protocol:\", url.protocol);",
									"        console.log(\"   ‚Ä¢ Host:\", url.host.join(\".\"));",
									"        console.log(\"   ‚Ä¢ Port:\", url.port || \"(default)\");",
									"        console.log(\"   ‚Ä¢ Path:\", url.path.join(\"/\"));",
									"        ",
									"        // Check for path variables",
									"        if (url.variable && url.variable.length > 0) {",
									"            console.log(\"\\n   Path Variables:\");",
									"            url.variable.forEach(variable => {",
									"                console.log(\"   ‚Ä¢ \" + variable.key + \" = \" + variable.value);",
									"            });",
									"        }",
									"        ",
									"        // Check query parameters",
									"        if (url.query && url.query.length > 0) {",
									"            console.log(\"\\n   Query Parameters:\");",
									"            url.query.forEach(param => {",
									"                if (!param.disabled) {",
									"                    console.log(\"   ‚Ä¢ \" + param.key + \" = \" + param.value);",
									"                }",
									"            });",
									"        }",
									"        ",
									"        console.log(\"\\n   üí° Troubleshooting suggestions:\");",
									"        console.log(\"   1. Verify the resource ID exists (check database or GET request)\");",
									"        console.log(\"   2. Confirm the endpoint path matches server routes\");",
									"        console.log(\"   3. Check if the server is running on the correct port\");",
									"        console.log(\"   4. Review server logs for routing issues\");",
									"        console.log(\"   5. Test with a known valid resource ID\");",
									"    }",
									"    ",
									"    // Request headers",
									"    console.log(\"\\nüìã REQUEST HEADERS:\");",
									"    if (pm.request.headers.count() > 0) {",
									"        pm.request.headers.each(header => {",
									"            console.log(\"   \" + header.key + \":\", header.value);",
									"        });",
									"    } else {",
									"        console.log(\"   (No headers)\");",
									"    }",
									"    ",
									"    // Request body analysis",
									"    console.log(\"\\nüì¶ REQUEST BODY:\");",
									"    try {",
									"        if (pm.request.body && pm.request.body.mode) {",
									"            console.log(\"   Body Mode:\", pm.request.body.mode);",
									"            ",
									"            if (pm.request.body.mode === \"raw\") {",
									"                const requestBody = pm.request.body.raw;",
									"                console.log(\"   Body Content:\");",
									"                ",
									"                // Try to parse and pretty-print JSON",
									"                try {",
									"                    const jsonBody = JSON.parse(requestBody);",
									"                    console.log(\"   \" + JSON.stringify(jsonBody, null, 2).split(\"\\n\").join(\"\\n   \"));",
									"                    ",
									"                    // Validate body structure",
									"                    console.log(\"\\n   Body Properties:\");",
									"                    Object.keys(jsonBody).forEach(key => {",
									"                        const value = jsonBody[key];",
									"                        const type = Array.isArray(value) ? \"array\" : typeof value;",
									"                        console.log(\"   ‚Ä¢ \" + key + \": \" + type);",
									"                    });",
									"                } catch (e) {",
									"                    console.log(\"   \" + requestBody);",
									"                }",
									"            } else {",
									"                console.log(\"   \" + pm.request.body.toString());",
									"            }",
									"        } else {",
									"            console.log(\"   (No body)\");",
									"        }",
									"    } catch (e) {",
									"        console.log(\"   Unable to parse request body:\", e.message);",
									"    }",
									"    ",
									"    // Response headers",
									"    console.log(\"\\nüìã RESPONSE HEADERS:\");",
									"    if (pm.response.headers.count() > 0) {",
									"        pm.response.headers.each(header => {",
									"            console.log(\"   \" + header.key + \":\", header.value);",
									"        });",
									"    } else {",
									"        console.log(\"   (No headers)\");",
									"    }",
									"    ",
									"    // Parse and analyze error response",
									"    console.log(\"\\n‚ùå ERROR RESPONSE:\");",
									"    let errorResponse;",
									"    let isJson = false;",
									"    let isHtml = false;",
									"    ",
									"    try {",
									"        // Check content type",
									"        const contentType = pm.response.headers.get(\"Content-Type\");",
									"        if (contentType) {",
									"            isJson = contentType.includes(\"application/json\");",
									"            isHtml = contentType.includes(\"text/html\");",
									"        }",
									"        ",
									"        // Try to parse as JSON first",
									"        if (isJson || (!isHtml && pm.response.text().trim().startsWith(\"{\"))) {",
									"            errorResponse = pm.response.json();",
									"            console.log(\"   Response Type: JSON\");",
									"            console.log(\"   \" + JSON.stringify(errorResponse, null, 2).split(\"\\n\").join(\"\\n   \"));",
									"            ",
									"            // Extract common error fields",
									"            if (errorResponse.error) {",
									"                console.log(\"\\n   Error Message:\", errorResponse.error);",
									"            }",
									"            if (errorResponse.message) {",
									"                console.log(\"   Message:\", errorResponse.message);",
									"            }",
									"            if (errorResponse.detail) {",
									"                console.log(\"   Detail:\", errorResponse.detail);",
									"            }",
									"        } else {",
									"            // Handle as text/HTML",
									"            const responseText = pm.response.text();",
									"            console.log(\"   Response Type:\", isHtml ? \"HTML\" : \"Text\");",
									"            ",
									"            if (isHtml) {",
									"                // Extract text from HTML",
									"                const textContent = responseText.replace(/<[^>]*>/g, \" \").replace(/\\s+/g, \" \").trim();",
									"                console.log(\"   \" + textContent.substring(0, 500));",
									"                ",
									"                if (textContent.length > 500) {",
									"                    console.log(\"   ... (truncated)\");",
									"                }",
									"            } else {",
									"                console.log(\"   \" + responseText.substring(0, 1000));",
									"                ",
									"                if (responseText.length > 1000) {",
									"                    console.log(\"   ... (truncated)\");",
									"                }",
									"            }",
									"        }",
									"    } catch (e) {",
									"        console.log(\"   Unable to parse response:\", e.message);",
									"        console.log(\"   Raw response:\", pm.response.text().substring(0, 500));",
									"    }",
									"    ",
									"    // Additional error-specific guidance",
									"    console.log(\"\\nüîß ERROR-SPECIFIC GUIDANCE:\");",
									"    switch (pm.response.code) {",
									"        case 400:",
									"            console.log(\"   Bad Request - Check request body format and required fields\");",
									"            break;",
									"        case 401:",
									"            console.log(\"   Unauthorized - Verify authentication credentials\");",
									"            break;",
									"        case 403:",
									"            console.log(\"   Forbidden - Check user permissions and access rights\");",
									"            break;",
									"        case 404:",
									"            console.log(\"   Not Found - Verify the URL and resource existence\");",
									"            break;",
									"        case 405:",
									"            console.log(\"   Method Not Allowed - Check if \" + pm.request.method + \" is supported\");",
									"            break;",
									"        case 409:",
									"            console.log(\"   Conflict - Resource may already exist or conflict with current state\");",
									"            break;",
									"        case 422:",
									"            console.log(\"   Unprocessable Entity - Validation failed, check data format\");",
									"            break;",
									"        case 429:",
									"            console.log(\"   Too Many Requests - Rate limit exceeded, wait before retrying\");",
									"            break;",
									"        case 500:",
									"            console.log(\"   Internal Server Error - Check server logs for details\");",
									"            break;",
									"        case 502:",
									"            console.log(\"   Bad Gateway - Upstream server issue\");",
									"            break;",
									"        case 503:",
									"            console.log(\"   Service Unavailable - Server temporarily unavailable\");",
									"            break;",
									"        case 504:",
									"            console.log(\"   Gateway Timeout - Upstream server timeout\");",
									"            break;",
									"        default:",
									"            console.log(\"   HTTP \" + pm.response.code + \" error occurred\");",
									"    }",
									"    ",
									"    // Environment and variable information",
									"    console.log(\"\\nüåç ENVIRONMENT CONTEXT:\");",
									"    console.log(\"   Active Environment:\", pm.environment.name || \"(None)\");",
									"    ",
									"    // Check for relevant variables",
									"    const relevantVars = [\"baseUrl\", \"base_url\", \"host\", \"port\", \"customerId\", \"customer_id\"];",
									"    let foundVars = false;",
									"    ",
									"    relevantVars.forEach(varName => {",
									"        const value = pm.variables.get(varName);",
									"        if (value !== undefined) {",
									"            if (!foundVars) {",
									"                console.log(\"   Relevant Variables:\");",
									"                foundVars = true;",
									"            }",
									"            console.log(\"   ‚Ä¢ \" + varName + \" = \" + value);",
									"        }",
									"    });",
									"    ",
									"    if (!foundVars) {",
									"        console.log(\"   No relevant variables found\");",
									"    }",
									"    ",
									"    console.log(\"\\n‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó\");",
									"    console.log(\"‚ïë                  END OF DIAGNOSTICS                        ‚ïë\");",
									"    console.log(\"‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù\\n\");",
									"}",
									"",
									"// Success logging (optional - only for successful requests)",
									"if (pm.response.code >= 200 && pm.response.code < 300) {",
									"    console.log(\"‚úÖ Request successful!\");",
									"    console.log(\"   Status:\", pm.response.code, pm.response.status);",
									"    console.log(\"   Response time:\", pm.response.responseTime + \"ms\");",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"address\": \"156 testing lane\",\n    \"cars\": [],\n    \"customer_id\": 1,\n    \"email\": \"JohnDoe@gmail.com\",\n    \"name\": \"John Doe\",\n    \"phone\": \"441-293-7575\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://127.0.0.1:5000/customers/1",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5000",
							"path": [
								"customers",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Customers",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"John Do\",\n    \"address\": \"156 testing lane\",\n    \"email\": \"JohnDoe1@gmail.com\",\n    \"phone\": \"441-200-7583\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://127.0.0.1:5000/customers",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5000",
							"path": [
								"customers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Check customer by ID",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://127.0.0.1:5000/customers/1",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5000",
							"path": [
								"customers",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Check all customers",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://127.0.0.1:5000/customers",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5000",
							"path": [
								"customers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Members",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://127.0.0.1:5000/customers/2",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5000",
							"path": [
								"customers",
								"2"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create customer login",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"fruitcake@gmail.com\",\n    \"password\": \"Imabiscuit\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://127.0.0.1:5000/customers/login",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5000",
							"path": [
								"customers",
								"login"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Mechanic",
			"item": [
				{
					"name": "Create Mechanic",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Jackie Lee\",\n    \"address\": \"134 fruitful lane\",\n    \"salary\": 87000\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://127.0.0.1:5000/mechanics",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5000",
							"path": [
								"mechanics"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get all Mechanics",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://127.0.0.1:5000/mechanics",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5000",
							"path": [
								"mechanics"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Mechanics by id",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://127.0.0.1:5000/mechanics/1",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5000",
							"path": [
								"mechanics",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Mechanics",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"address\": \"134 fruitful lane\",\n    \"mechanic_id\": 1,\n    \"name\": \"Johnny Lee\",\n    \"salary\": 90000.0,\n    \"tickets\": []\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://127.0.0.1:5000/mechanics/1",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5000",
							"path": [
								"mechanics",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Mechanic by id",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://127.0.0.1:5000/mechanics/2",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5000",
							"path": [
								"mechanics",
								"2"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Mechanics (new)",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjM3MTE0MTMsImlhdCI6MTc2MzcwNzgxMywic3ViIjoiNCJ9.DGTsI_HB-647y5Xq5YfplspDSZZUQ7HJR3J879O8EQE"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Vanessa Ocho\",\n    \"salary\": 89000,\n    \"address\": \"103 workshop lane\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://127.0.0.1:5000/mechanics",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5000",
							"path": [
								"mechanics"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Service_Ticket",
			"item": [
				{
					"name": "Create Service Ticket",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"vin\": \"1HGCM82633A123456\",\n    \"description\": \"Oil change\",\n    \"date\": \"2023-10-01T10:00:00\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://127.0.0.1:5001/tickets",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5001",
							"path": [
								"tickets"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All Service Tickets",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n \n    \"description\": \"Oil change\",\n    \"date\": \"2023-10-01T10:00:00\",\n    \"vin\": \"1HGCM82633A123456\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://127.0.0.1:5001/tickets",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5001",
							"path": [
								"tickets"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Service Ticket by id",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://127.0.0.1:5001/tickets/1",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5001",
							"path": [
								"tickets",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Service Ticket by id",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"date\": \"2023-10-01T10:00:00\",\n    \"description\": \"Filter change\",\n    \"vin\": \"1HGCM82633A123456\"\n}   ",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://127.0.0.1:5001/tickets/1",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5001",
							"path": [
								"tickets",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Service Ticket by id",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "DELETE",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"car\": \"Toyota Corolla\",\n    \"description\": \"Oil change\",\n    \"date\": \"2023-10-01T10:00:00\",\n    \"vin\": \"1HGCM82633A123456\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://127.0.0.1:5001/tickets/1",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5001",
							"path": [
								"tickets",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create service ticket (newer version)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Diagnostic Script for Ticket Creation Endpoint",
									"console.log(\"=== TICKET CREATION DIAGNOSTIC REPORT ===\\n\");",
									"",
									"// 1. Response Status Analysis",
									"console.log(\"1. RESPONSE STATUS:\");",
									"console.log(\"   Status Code:\", pm.response.code);",
									"console.log(\"   Status Text:\", pm.response.status);",
									"",
									"pm.test(\"Response status code check\", function() {",
									"    if (pm.response.code === 500) {",
									"        console.log(\"   ‚ö†Ô∏è Server Error (500) - Issue on backend\");",
									"    } else if (pm.response.code === 400) {",
									"        console.log(\"   ‚ö†Ô∏è Bad Request (400) - Check request body format\");",
									"    } else if (pm.response.code === 401) {",
									"        console.log(\"   ‚ö†Ô∏è Unauthorized (401) - Check authentication token\");",
									"    } else if (pm.response.code === 201 || pm.response.code === 200) {",
									"        console.log(\"   ‚úì Success!\");",
									"        pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
									"    }",
									"});",
									"",
									"// 2. Request Body Analysis",
									"console.log(\"\\n2. REQUEST BODY ANALYSIS:\");",
									"try {",
									"    const requestBody = JSON.parse(pm.request.body.raw);",
									"    console.log(\"   Sent Body:\", JSON.stringify(requestBody, null, 2));",
									"    ",
									"    // Check for common field issues",
									"    if (requestBody.customer && typeof requestBody.customer === 'string') {",
									"        console.log(\"   ‚ö†Ô∏è WARNING: Using 'customer' field with string value\");",
									"        console.log(\"   üí° SUGGESTION: API likely expects 'customer_id' as integer\");",
									"        console.log(\"   Example: { \\\"customer_id\\\": 1 }\");",
									"    }",
									"    ",
									"    if (requestBody.customer_id && typeof requestBody.customer_id === 'number') {",
									"        console.log(\"   ‚úì Using correct 'customer_id' field with integer value\");",
									"    }",
									"    ",
									"    if (requestBody.description) {",
									"        console.log(\"   ‚úì Description field present:\", requestBody.description);",
									"    }",
									"    ",
									"    if (requestBody.date) {",
									"        console.log(\"   ‚úì Date field present:\", requestBody.date);",
									"    }",
									"} catch (e) {",
									"    console.log(\"   ‚ö†Ô∏è Could not parse request body:\", e.message);",
									"}",
									"",
									"// 3. JWT Token Analysis",
									"console.log(\"\\n3. JWT TOKEN ANALYSIS:\");",
									"const authHeader = pm.request.headers.get(\"Authorization\");",
									"if (authHeader && authHeader.startsWith(\"Bearer \")) {",
									"    const token = authHeader.substring(7);",
									"    try {",
									"        // Decode JWT (without verification)",
									"        const parts = token.split('.');",
									"        if (parts.length === 3) {",
									"            const payload = JSON.parse(atob(parts[1]));",
									"            console.log(\"   Token Payload:\", JSON.stringify(payload, null, 2));",
									"            ",
									"            const now = Math.floor(Date.now() / 1000);",
									"            const issuedAt = payload.iat;",
									"            const expiresAt = payload.exp;",
									"            ",
									"            console.log(\"   Current Time:\", new Date(now * 1000).toISOString());",
									"            console.log(\"   Token Issued:\", new Date(issuedAt * 1000).toISOString());",
									"            console.log(\"   Token Expires:\", new Date(expiresAt * 1000).toISOString());",
									"            ",
									"            if (expiresAt < now) {",
									"                console.log(\"   ‚ùå TOKEN EXPIRED!\");",
									"            } else {",
									"                console.log(\"   ‚úì Token is valid (not expired)\");",
									"            }",
									"            ",
									"            if (issuedAt > now) {",
									"                console.log(\"   ‚ö†Ô∏è Token issued in the future (clock skew?)\");",
									"            }",
									"        }",
									"    } catch (e) {",
									"        console.log(\"   ‚ö†Ô∏è Could not decode JWT:\", e.message);",
									"    }",
									"} else {",
									"    console.log(\"   ‚ö†Ô∏è No Bearer token found in Authorization header\");",
									"}",
									"",
									"// 4. Response Body Analysis",
									"console.log(\"\\n4. RESPONSE BODY ANALYSIS:\");",
									"try {",
									"    const responseBody = pm.response.json();",
									"    console.log(\"   Response:\", JSON.stringify(responseBody, null, 2));",
									"    ",
									"    if (responseBody.error) {",
									"        console.log(\"   ‚ùå ERROR MESSAGE:\", responseBody.error);",
									"        ",
									"        // Analyze specific error patterns",
									"        if (responseBody.error.includes(\"DummySession\")) {",
									"            console.log(\"\\n   üí° DIAGNOSIS: Backend session/database error\");",
									"            console.log(\"   Possible causes:\");",
									"            console.log(\"   - Incorrect field names in request body\");",
									"            console.log(\"   - Missing required fields\");",
									"            console.log(\"   - Invalid data types (string vs integer)\");",
									"        }",
									"        ",
									"        if (responseBody.error.includes(\"attribute\")) {",
									"            console.log(\"   üí° This suggests the backend is trying to access\");",
									"            console.log(\"      a property that doesn't exist on an object\");",
									"        }",
									"    }",
									"    ",
									"    if (responseBody.id) {",
									"        console.log(\"   ‚úì Ticket created successfully with ID:\", responseBody.id);",
									"    }",
									"} catch (e) {",
									"    console.log(\"   Response is not JSON or empty\");",
									"    console.log(\"   Raw response:\", pm.response.text().substring(0, 200));",
									"}",
									"",
									"// 5. Recommendations",
									"console.log(\"\\n5. RECOMMENDATIONS:\");",
									"console.log(\"   1. Change 'customer' to 'customer_id' with integer value\");",
									"console.log(\"   2. Ensure customer_id corresponds to existing customer\");",
									"console.log(\"   3. Verify JWT token is fresh and valid\");",
									"console.log(\"   4. Check backend logs for full error details\");",
									"",
									"console.log(\"\\n=== END DIAGNOSTIC REPORT ===\");",
									"",
									"// Tests for successful response",
									"pm.test(\"Response time is acceptable\", function() {",
									"    pm.expect(pm.response.responseTime).to.be.below(5000);",
									"});",
									"",
									"pm.test(\"Content-Type header is present\", function() {",
									"    pm.response.to.have.header(\"Content-Type\");",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjM3MTE0MTMsImlhdCI6MTc2MzcwNzgxMywic3ViIjoiNCJ9.DGTsI_HB-647y5Xq5YfplspDSZZUQ7HJR3J879O8EQE"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"description\":\"Oil change\",\n    \"date\":\"2025-11-20T12:45:00\",\n    \"customer_id\": 4\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://127.0.0.1:5000/tickets",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5000",
							"path": [
								"tickets"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add mechanic to ticket by ID",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjM3MTE0MTMsImlhdCI6MTc2MzcwNzgxMywic3ViIjoiNCJ9.DGTsI_HB-647y5Xq5YfplspDSZZUQ7HJR3J879O8EQE"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"add_ids\": [1]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://127.0.0.1:5000/tickets/1/edit",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5000",
							"path": [
								"tickets",
								"1",
								"edit"
							]
						}
					},
					"response": []
				},
				{
					"name": "Remove Mechanic by ID from Service ticket",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjM3MTE0MTMsImlhdCI6MTc2MzcwNzgxMywic3ViIjoiNCJ9.DGTsI_HB-647y5Xq5YfplspDSZZUQ7HJR3J879O8EQE"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"remove_ids\": [1]\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://127.0.0.1:5000/tickets/1/edit",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5000",
							"path": [
								"tickets",
								"1",
								"edit"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Inventory",
			"item": [
				{
					"name": "Create inventory item",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjM3MTE0MTMsImlhdCI6MTc2MzcwNzgxMywic3ViIjoiNCJ9.DGTsI_HB-647y5Xq5YfplspDSZZUQ7HJR3J879O8EQE",
								"disabled": true
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"item_name\": \"Brake Pads\",\n    \"quantity\": 50,\n    \"price\": 25.99\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://127.0.0.1:5000/inventory/",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5000",
							"path": [
								"inventory",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Get all Inventory items",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjM3MTE0MTMsImlhdCI6MTc2MzcwNzgxMywic3ViIjoiNCJ9.DGTsI_HB-647y5Xq5YfplspDSZZUQ7HJR3J879O8EQE",
								"disabled": true
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"item_name\": \"Brake Pads\",\n    \"quantity\": 50,\n    \"price\": 25.99\n}"
						},
						"url": {
							"raw": "http://127.0.0.1:5000/inventory/",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5000",
							"path": [
								"inventory",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Get inventory item by id",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjM3MTE0MTMsImlhdCI6MTc2MzcwNzgxMywic3ViIjoiNCJ9.DGTsI_HB-647y5Xq5YfplspDSZZUQ7HJR3J879O8EQE",
								"disabled": true
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"item_name\": \"Brake Pads\",\n    \"quantity\": 50,\n    \"price\": 25.99\n}"
						},
						"url": {
							"raw": "http://127.0.0.1:5000/inventory/1",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5000",
							"path": [
								"inventory",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update inventory item",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjM3MTE0MTMsImlhdCI6MTc2MzcwNzgxMywic3ViIjoiNCJ9.DGTsI_HB-647y5Xq5YfplspDSZZUQ7HJR3J879O8EQE",
								"disabled": true
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"item_name\": \"Brake Pads\",\n    \"quantity\": 40,\n    \"price\": 25.99\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://127.0.0.1:5000/inventory/1",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5000",
							"path": [
								"inventory",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete inventory item by id",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjM3MTE0MTMsImlhdCI6MTc2MzcwNzgxMywic3ViIjoiNCJ9.DGTsI_HB-647y5Xq5YfplspDSZZUQ7HJR3J879O8EQE",
								"disabled": true
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"item_name\": \"Brake Pads\",\n    \"quantity\": 40,\n    \"price\": 25.99\n}"
						},
						"url": {
							"raw": "http://127.0.0.1:5000/inventory/1",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "5000",
							"path": [
								"inventory",
								"1"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Mechanics with the most tickets",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjM3MTE0MTMsImlhdCI6MTc2MzcwNzgxMywic3ViIjoiNCJ9.DGTsI_HB-647y5Xq5YfplspDSZZUQ7HJR3J879O8EQE"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"remove_ids\": [2]\n}\n"
				},
				"url": {
					"raw": "http://127.0.0.1:5000/mechanics/most-tickets",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "5000",
					"path": [
						"mechanics",
						"most-tickets"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create Ticket",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"car\": \"Toyota Corolla\",\n    \"description\": \"Oil change\",\n    \"date\": \"2023-10-01T10:00:00\",\n    \"vin\": \"1HGCM82633A123456\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://127.0.0.1:5001/tickets",
					"protocol": "http",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "5001",
					"path": [
						"tickets"
					]
				}
			},
			"response": []
		}
	],
	"variable": [
		{
			"key": "last_error_status",
			"value": ""
		},
		{
			"key": "last_error_message",
			"value": ""
		},
		{
			"key": "last_error_details",
			"value": ""
		},
		{
			"key": "last_error_code",
			"value": ""
		},
		{
			"key": "last_error_type",
			"value": ""
		},
		{
			"key": "last_error_timestamp",
			"value": ""
		},
		{
			"key": "last_error_url",
			"value": ""
		},
		{
			"key": "last_error_report",
			"value": ""
		},
		{
			"key": "lastErrorReport",
			"value": ""
		}
	]
}